import{j as s}from"./jsx-runtime.brvLbZ6j.js";import{s as x}from"./auth.Ilt-Bd4Y.js";import{B as w}from"./iconBase.YqCPaJlw.js";import{I as m}from"./Input.Stasp_s2.js";import{l as h}from"./authService.I-RBoNpz.js";import{r as j}from"./index.9-aKW1zO.js";import{L as b}from"./Loader.5j3Wnp7_.js";import{B as L}from"./react-toastify.esm.4Fmdt3r8.js";import"./index.rS7vpNfE.js";import"./index.aZD16Ifr.js";import"./index.a4cdf180.iEdQifKq.js";import"./axios.xCDz4o0g.js";import"./constants.zsi4Ai76.js";const R=({classes:i})=>{const[p,e]=j.useState(!1),c=t=>{t.preventDefault();const a=t.target;e(!0);const n=new FormData(a),d=n.get("email"),l=n.get("password"),u=a.getElementsByTagName("input");for(const o of u)o.value="";h({email:d,password:l}).then(o=>{const r=o.accessToken,f=o.userId,g=o.role;x({userId:f,role:g,accessToken:r}),window.location.href="/messages"}).catch(o=>{const r=o?.errors?.[0]?o?.errors?.[0].msg:"An unknown error occur";L.error(r),e(!1)})};return s.jsxs(s.Fragment,{children:[s.jsxs("form",{className:`flex flex-wrap items-end gap-[10px] p-[15px] border-2 border-[--border] rounded-[20px] bg-[--background] ${i}`,onSubmit:c,children:[s.jsx(m,{id:"login-email",name:"email",type:"email",children:"E-mail"}),s.jsx(m,{id:"login-password",name:"password",type:"password",children:"Password"}),s.jsx(w,{classes:"ms-auto",type:"submit",children:"Sign in"})]}),p&&s.jsx(b,{})]})};export{R as default};
