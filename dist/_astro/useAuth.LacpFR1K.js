import{r as o}from"./index.LFf77hJu.js";let u=[],g=(n,s)=>{let i=[],t={get(){return t.lc||t.listen(()=>{})(),t.value},l:s||0,lc:0,listen(l,r){return t.lc=i.push(l,r||t.l)/2,()=>{let e=i.indexOf(l);~e&&(i.splice(e,2),--t.lc||t.off())}},notify(l){let r=!u.length;for(let e=0;e<i.length;e+=2)u.push(i[e],i[e+1],t.value,l);if(r){for(let e=0;e<u.length;e+=4){let f;for(let a=e+1;!f&&(a+=4)<u.length;)u[a]<u[e+1]&&(f=u.push(u[e],u[e+1],u[e+2],u[e+3]));f||u[e](u[e+2],u[e+3])}u.length=0}},off(){},set(l){t.value!==l&&(t.value=l,t.notify())},subscribe(l,r){let e=t.listen(l,r);return l(t.value),e},value:n};return t};function h(n,s,i){let t=new Set([...s,void 0]);return n.listen((l,r)=>{t.has(r)&&i(l,r)})}function b(n,s={}){let i=o.useCallback(l=>s.keys?h(n,s.keys,l):n.listen(l),[s.keys,n]),t=n.get.bind(n);return o.useSyncExternalStore(i,t,t)}const c=g();function y(n){c.set(n)}const k=()=>{const n=b(c);return o.useDebugValue(n,s=>s?.email?"Logged In":"Logged Out"),{auth:n,setAuth:y}};export{k as u};
