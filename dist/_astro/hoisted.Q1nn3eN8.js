import{c,r as d,Y as u}from"./index.esm.87sGT-t-.js";import{B as n}from"./react-toastify.esm.4Fmdt3r8.js";import"./theme.kXHDUFoB.js";import"./axios.tkkU2NWh.js";import"./index.9-aKW1zO.js";import"./index.rS7vpNfE.js";const{object:l,string:r}=u,w=l().shape({password_confirm:r().ensure().when("password",{is:(s,t)=>s&&s.length>0,then:()=>r().oneOf([c("password"),null],"Passwords must match")}).required("Password confirmation is required"),password:r().matches(/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[a-zA-Z]).{8,30}$/,"Password must have one uppercase, one lowercase, and one numeric digit").required("A password is required"),last_name:r().min(3,"Lastname must be between 3 and 25 characters").max(25,"Lastname must be between 3 and 25 characters"),first_name:r().required("Your name is a required field").min(3,"Name must be between 3 and 20 characters").max(20,"Name must be between 3 and 20 characters"),username:r().required("Username is a required field").min(5,"Username must be between 5 and 25 characters").max(25,"Username must be between 5 and 25 characters"),email:r().matches(/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.([a-zA-Z]){2,3}$/,"E-mail is not valid").email().required("E-mail is required").max(60)}),p=document.getElementById("register-form");p.addEventListener("submit",async s=>{s.preventDefault();const t=s.target,a=new FormData(t),m={email:a.get("email"),username:a.get("username"),first_name:a.get("first_name"),last_name:a.get("last_name"),password:a.get("password"),password_confirm:a.get("password_confirm")},i=await w.validate(m,{abortEarly:!1}).then(e=>e).catch(e=>e);if(!i.email){i.inner.map(e=>n.error(e.message));return}d(m).then(e=>{t.reset(),n.success("User registered")}).catch(e=>{const o=e?.errors?.[0]?e?.errors?.[0].msg:"An unknown error occur";n.error(o)})});
